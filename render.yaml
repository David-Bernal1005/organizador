# Render Configuration File
# Documentación: https://render.com/docs

services:
  - type: web
    name: api-organizador-tareas
    env: python
    runtime: python-3.13
    region: oregon
    plan: free
    
    # Comando de construcción
    buildCommand: bash ./build.sh

    # Comando de inicio - IMPORTANTE: usar 0.0.0.0, no localhost
    # El módulo correcto es `backend.main:app` (archivo `backend/main.py`)
    startCommand: python -m uvicorn backend.main:app --host 0.0.0.0 --port $PORT --proxy-headers
    
    # Healthcheck
    healthCheckPath: /health
    
    # Archivos a monitorear
    buildFilter:
      paths:
        - backend/**
        - requirements.txt
        - build.sh
        - create_tables.py

        - requirements.txt
        - create_tables.py
        - build.sh
